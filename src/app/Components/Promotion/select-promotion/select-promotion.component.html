<ion-header>
  <ion-toolbar color="primary">
    <ion-title>Bulk Promotions</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>


  <ion-slides #slides>
    <ion-slide>


      <ion-grid>
        <ion-row>
          <ion-col offset-md="3" size-md="6" size="12">
            <ion-card class="noBacki">
              <ion-card-title color="primary" class="ion-margin-vertical">Selected Clients</ion-card-title>

              <!-- <ion-card-title color="primary">{{selArray.length}} / {{(users | async).length}}</ion-card-title> -->


              <ion-searchbar animated="true" placeholder="Search by name" [(ngModel)]="searchValue"
                (ionChange)="search()">
              </ion-searchbar>

              <ion-card-content class="scrll">
                <app-loader *ngIf="showLoader"></app-loader>

                <ion-row *ngFor="let u of users | async" class="ion-padding-horizontal">
                  <ion-item lines="none">
                    <ion-checkbox [(ngModel)]="u.Checked" (ionChange)="addToArr(u.Checked,u.payload.doc.id)"
                      slot="start">
                    </ion-checkbox>
                    <h2 slot="start">{{u.payload.doc.data().Name | uppercase}}</h2>
                  </ion-item>
                </ion-row>
              </ion-card-content>



              <!-- <ion-card-content text-center *ngIf="!(users | async).length">
                <ion-card-title>No Such Client Found</ion-card-title>
                <ion-button shape="round" (click)="addUser()">
                  <ion-icon class="ion-padding-right" name="md-add"></ion-icon>
                  Add Client
                </ion-button>
              </ion-card-content> -->


              <ion-button block (click)="gtNextCheck()">Done</ion-button>
            </ion-card>
          </ion-col>
        </ion-row>
      </ion-grid>








    </ion-slide>
    <ion-slide>



      <ion-grid>
        <ion-row>
          <ion-col offset-md="3" size-md="6" size="12">
            <ion-card class="noBacki">
              <ion-row>
                <ion-col offset-md="2" size-md="8" size="12">

                  <ion-item>
                    <ion-button fill="clear" color="primary" (click)="gtPrev()" size="large" class="ion-float-left">
                      <ion-icon name="arrow-round-back"></ion-icon>
                      Go Back
                    </ion-button>
                  </ion-item>
                  <ion-card-content>

                    <ion-card-title>Send an SMS Promotion</ion-card-title>


                    <ion-item class="ion-margin-vertical">
                      <ion-label position="stacked">Message</ion-label>
                      <ion-textarea rows="6" (keyup.enter)="checkData()" maxlength="256"
                        placeholder="Say something to your Clients" [(ngModel)]="mess"></ion-textarea>
                    </ion-item>
                    <p class="ion-padding-vertical">Characters Remaining {{256 - mess.length }}</p>
                    <ion-button round (click)="checkData()">Send SMS</ion-button>
                  </ion-card-content>
                </ion-col>
              </ion-row>
            </ion-card>
          </ion-col>
        </ion-row>
      </ion-grid>

    </ion-slide>
  </ion-slides>


</ion-content>